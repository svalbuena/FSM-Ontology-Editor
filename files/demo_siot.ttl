@prefix : <file:///D:/projects/ontologies/demo_siot/demo_siot.owl#> .
@prefix fsm: <file:///D:/projects/ontologies/fsm/fsm.owl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix http: <http://www.w3.org/2011/http#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix siot: <file:///D:/projects/ontologies/siot/siot.owl#> .
@base <file:///D:/projects/ontologies/demo_siot/demo_siot.owl> .

<file:///D:/projects/ontologies/demo_siot/demo_siot.owl> rdf:type owl:Ontology ;
                                                          owl:imports <http://www.w3.org/2011/http> ,
                                                                      <file:///D:/projects/ontologies/fsm/fsm.owl> ,
                                                                      <file:///D:/projects/ontologies/siot/siot.owl> ,
                                                                      <http://www.w3.org/ns/sosa/> ,
                                                                      <http://www.w3.org/ns/ssn/> .

#################################################################
#    Individuals
#################################################################

###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#IsPeerAvailable
:IsPeerAvailable rdf:type owl:NamedIndividual ,
                          fsm:Condition ;
                 fsm:hasContent """PREFIX siot: <file:///D:/projects/ontologies/siot/siot.owl#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX fsm: <file:///D:/projects/ontologies/fsm/fsm.owl#>

ASK {
    self: siot:hasPeer ?peer .
    ?peer fsm:hasContent  ?value .
}""" .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#IsPeerCompatibilityAvailable
:IsPeerCompatibilityAvailable rdf:type owl:NamedIndividual ,
                                       fsm:Condition ;
                              fsm:hasContent """PREFIX siot: <file:///D:/projects/ontologies/siot/siot.owl#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>

ASK {
    self: siot:hasPeer ?peer .
    ?peer siot:hasCompatibility ?compatibility .

}""" .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#IsPeerCompatible
:IsPeerCompatible rdf:type owl:NamedIndividual ,
                           fsm:Condition ;
                  fsm:hasContent """PREFIX siot: <file:///D:/projects/ontologies/siot/siot.owl#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX fsm: <file:///D:/projects/ontologies/fsm/fsm.owl#>

ASK {
    self: siot:hasPeer ?peer .
    self: siot:hasCompatibility ?compatibility .
    ?compatibility siot:withPeer ?peer .
    ?compatibility fsm:hasContent \"true\" .
}""" .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#IsPeerDataAvailable
:IsPeerDataAvailable rdf:type owl:NamedIndividual ,
                              fsm:Condition ;
                     fsm:hasContent """PREFIX siot: <file:///D:/projects/ontologies/siot/siot.owl#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>

ASK {
    self: siot:hasPeer ?peer .
    ?peer siot:hasData ?data .
}""" .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#IsPeerNotCompatible
:IsPeerNotCompatible rdf:type owl:NamedIndividual ,
                              fsm:Condition ;
                     fsm:hasContent """PREFIX siot: <file:///D:/projects/ontologies/siot/siot.owl#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX fsm: <file:///D:/projects/ontologies/fsm/fsm.owl#>

ASK {
    self: siot:hasPeer ?peer .
    self: siot:hasCompatibility ?compatibility .
    ?compatibility siot:withPeer ?peer .
    ?compatibility fsm:hasContent \"false\" .
}""" .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S1_WatingForPeerState
:S1_WatingForPeerState rdf:type owl:NamedIndividual ,
                                fsm:InitialState ,
                                fsm:State .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S1_to_S2_T_Guard
:S1_to_S2_T_Guard rdf:type owl:NamedIndividual ,
                           fsm:Guard ;
                  fsm:hasGuardCondition :IsPeerAvailable .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S1_to_S2_Transition
:S1_to_S2_Transition rdf:type owl:NamedIndividual ,
                              fsm:Transition ;
                     fsm:hasSourceState :S1_WatingForPeerState ;
                     fsm:hasTargetState :S2_InformationExchangeState ;
                     fsm:hasTransitionGuard :S1_to_S2_T_Guard .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S2_InformationExchangeState
:S2_InformationExchangeState rdf:type owl:NamedIndividual ,
                                      fsm:SimpleState ,
                                      fsm:State ;
                             fsm:hasEntryAction :sendMyData .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S2_to_S3_T_Guard
:S2_to_S3_T_Guard rdf:type owl:NamedIndividual ,
                           fsm:Guard ;
                  fsm:hasGuardCondition :IsPeerDataAvailable .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S2_to_S3_Transition
:S2_to_S3_Transition rdf:type owl:NamedIndividual ,
                              fsm:Transition ;
                     fsm:hasSourceState :S2_InformationExchangeState ;
                     fsm:hasTargetState :S3_CheckCompatibilityState ;
                     fsm:hasTransitionGuard :S2_to_S3_T_Guard .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S3_CheckCompatibilityState
:S3_CheckCompatibilityState rdf:type owl:NamedIndividual ,
                                     fsm:SimpleState ,
                                     fsm:State ;
                            fsm:hasEntryAction :checkCompatibility .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S3_to_S4_T_Guard
:S3_to_S4_T_Guard rdf:type owl:NamedIndividual ,
                           fsm:Guard ;
                  fsm:hasGuardCondition :IsPeerCompatible .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S3_to_S4_Transition
:S3_to_S4_Transition rdf:type owl:NamedIndividual ,
                              fsm:Transition ;
                     fsm:hasSourceState :S3_CheckCompatibilityState ;
                     fsm:hasTargetState :S4_IsCompatibleState ;
                     fsm:hasTransitionGuard :S3_to_S4_T_Guard .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S3_to_S5_T_Guard
:S3_to_S5_T_Guard rdf:type owl:NamedIndividual ,
                           fsm:Guard ;
                  fsm:hasGuardCondition :IsPeerNotCompatible .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S3_to_S5_Transition
:S3_to_S5_Transition rdf:type owl:NamedIndividual ,
                              fsm:Transition ;
                     fsm:hasSourceState :S3_CheckCompatibilityState ;
                     fsm:hasTargetState :S5_NotCompatibleState ;
                     fsm:hasTransitionGuard :S3_to_S5_T_Guard .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S4_IsCompatibleState
:S4_IsCompatibleState rdf:type owl:NamedIndividual ,
                               fsm:SimpleState ,
                               fsm:State ;
                      fsm:hasEntryAction :sendImCompatible .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S4_to_S6_Transition
:S4_to_S6_Transition rdf:type owl:NamedIndividual ,
                              fsm:Transition ;
                     fsm:hasSourceState :S4_IsCompatibleState ;
                     fsm:hasTargetState :S6_WaitingForPeerCompatibilityState .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S5_NotCompatibleState
:S5_NotCompatibleState rdf:type owl:NamedIndividual ,
                                fsm:SimpleState ,
                                fsm:State ;
                       fsm:hasEntryAction :sendImNotCompatible .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S5_to_S6_Transition
:S5_to_S6_Transition rdf:type owl:NamedIndividual ,
                              fsm:Transition ;
                     fsm:hasSourceState :S5_NotCompatibleState ;
                     fsm:hasTargetState :S6_WaitingForPeerCompatibilityState .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S6_WaitingForPeerCompatibilityState
:S6_WaitingForPeerCompatibilityState rdf:type owl:NamedIndividual ,
                                              fsm:SimpleState ,
                                              fsm:State .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S6_to_S7_T_Guard
:S6_to_S7_T_Guard rdf:type owl:NamedIndividual ,
                           fsm:Guard ;
                  fsm:hasGuardCondition :IsPeerCompatibilityAvailable .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S6_to_S7_Transition
:S6_to_S7_Transition rdf:type owl:NamedIndividual ,
                              fsm:Transition ;
                     fsm:hasSourceState :S6_WaitingForPeerCompatibilityState ;
                     fsm:hasTargetState :S7_CompareCompatibilitiesState ;
                     fsm:hasTransitionGuard :S6_to_S7_T_Guard .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#S7_CompareCompatibilitiesState
:S7_CompareCompatibilitiesState rdf:type owl:NamedIndividual ,
                                         fsm:FinalState ,
                                         fsm:State .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#checkCompatibility
:checkCompatibility rdf:type owl:NamedIndividual ,
                             fsm:Action ,
                             http:Request ;
                    fsm:hasBody :checkCompatibilityBody ;
					fsm:hasTimeoutInMs 10 ;
                    http:absoluteURI <http://localhost:9000/check_compatibility> ;
                    http:mthd <http://www.w3.org/2011/http-methods#POST> .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#checkCompatibilityBody
:checkCompatibilityBody rdf:type owl:NamedIndividual ,
                                 fsm:Body ;
                        fsm:hasBodyType fsm:rdf ;
                        fsm:hasContent """@prefix siot: <file:///D:/projects/ontologies/siot/siot.owl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix fsm: <file:///D:/projects/ontologies/fsm/fsm.owl#> .

self: a siot:Node .
self: siot:hasData self:data1 .
self:data1 a siot:Data .
self:data1 fsm:hasContent \"data of node 1\" .
self:node2 a siot:Node .
self:node2 siot:hasData self:data2 .
self:data2 a siot:Data .
self:data2 fsm:hasContent \"data of node 2\" .""" .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#sendImCompatible
:sendImCompatible rdf:type owl:NamedIndividual ,
                           fsm:Action ,
                           http:Request ;
                  fsm:hasBody :sendImCompatibleBody ;
				  fsm:hasPrototypeURI :sendDataPrototype ;
                  http:mthd <http://www.w3.org/2011/http-methods#POST> .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#sendImCompatibleBody
:sendImCompatibleBody rdf:type owl:NamedIndividual ,
                               fsm:Body ;
                      fsm:hasBodyType fsm:rdf ;
                      fsm:hasContent """@prefix siot: <file:///D:/projects/ontologies/siot/siot.owl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix fsm: <file:///D:/projects/ontologies/fsm/fsm.owl#> .

self: siot:hasCompatibility :compatibility2 .
:compatibility2 siot:withPeer <http://localhost:9000/test_client> .
:compatibility2 fsm:hasContent \"true\" .""" .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#sendImNotCompatible
:sendImNotCompatible rdf:type owl:NamedIndividual ,
                              fsm:Action ,
                              http:Request ;
                     fsm:hasBody :sendImNotCompatibleBody ;
					 fsm:hasPrototypeURI :sendDataPrototype ;
                     http:mthd <http://www.w3.org/2011/http-methods#POST> .

:sendDataPrototype rdf:type owl:NamedIndividual ,
							fsm:PrototypeURI ;
			fsm:hasParameter :peerUriParameter ;
			fsm:hasStructure "[peer_uri]/send_data" .
			
:peerUriParameter rdf:type owl:NamedIndividual ,
					 fsm:PrototypeParameter ;
			fsm:hasPlaceholder "[peer_uri]" ;
			fsm:hasQuery 
"""    
		PREFIX siot: <file:///D:/projects/ontologies/siot/siot.owl#>

		SELECT (str(?peer) as ?peer_uri)
		WHERE
		{
			self: siot:hasPeer ?peer
		}
""" .

###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#sendImNotCompatibleBody
:sendImNotCompatibleBody rdf:type owl:NamedIndividual ,
                                  fsm:Body ;
                         fsm:hasBodyType fsm:rdf ;
                         fsm:hasContent """@prefix siot: <file:///D:/projects/ontologies/siot/siot.owl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix fsm: <file:///D:/projects/ontologies/fsm/fsm.owl#> .

self: siot:hasCompatibility ?compatibility .
?compatibility siot:withPeer self:myPeer .
?compatibility fsm:hasContent \"false\" .""" .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#sendMyData
:sendMyData rdf:type owl:NamedIndividual ,
                     fsm:Action ,
                     http:Request ;
            fsm:hasBody :sendMyDatabody ;
			fsm:hasPrototypeURI :sendDataPrototype ;
            http:mthd <http://www.w3.org/2011/http-methods#POST> .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#sendMyDatabody
:sendMyDatabody rdf:type owl:NamedIndividual ,
                         fsm:Body ;
                fsm:hasBodyType fsm:rdf ;
                fsm:hasContent """@prefix siot: <file:///D:/projects/ontologies/siot/siot.owl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix fsm: <file:///D:/projects/ontologies/fsm/fsm.owl#> .

self: a siot:Node .
self: siot:hasData self:data .
self:data a siot:Data .
self:data fsm:hasContent \"My data\" .""" .


###  file:///D:/projects/ontologies/demo_siot/demo_siot.owl#siot_fsm
:siot_fsm rdf:type owl:NamedIndividual ,
                   fsm:StateMachine ;
          fsm:hasStateMachineElement :S1_WatingForPeerState ,
                                     :S2_InformationExchangeState ,
                                     :S3_CheckCompatibilityState ,
                                     :S4_IsCompatibleState ,
                                     :S5_NotCompatibleState ,
                                     :S6_WaitingForPeerCompatibilityState ,
                                     :S7_CompareCompatibilitiesState .


###  http://localhost:9000/check_compatibility
<http://localhost:9000/check_compatibility> rdf:type owl:NamedIndividual .


###  http://www.w3.org/2011/http-methods#POST
<http://www.w3.org/2011/http-methods#POST> rdf:type owl:NamedIndividual ,
                                                    http:Method .


###  Generated by the OWL API (version 4.2.8.20170104-2310) https://github.com/owlcs/owlapi
